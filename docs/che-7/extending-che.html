<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="keywords" content=",  ">
<title>Extending Che | Eclipse Che Documentation</title>
<link rel="stylesheet" href="/che/docs/css/syntax.css">
<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="/che/docs/css/modern-business.css">
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<link rel="stylesheet" href="/che/docs/css/customstyles.css">
<link rel="stylesheet" href="/che/docs/css/boxshadowproperties.css">
<!-- most color styles are extracted out to here -->
<link rel="stylesheet" href="/che/docs/css/theme-che.css">


    <link rel="stylesheet" href="/che/docs/css/coderay.css" media="screen" type="text/css">
    <link rel="stylesheet" href="/che/docs/css/asciidoc.css" type="text/css">

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js" crossorigin="anonymous"></script>
<script src="/che/docs/js/jquery.navgoco.min.js"></script>


<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<!-- Anchor.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js" crossorigin="anonymous"></script>
<script src="/che/docs/js/toc.js"></script>
<script src="/che/docs/js/customscripts.js"></script>

<link rel="shortcut icon" href="/che/docs/images/favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="che" href="/feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    <script>
        $(document).ready(function() {
            $("#tg-sb-link").click(function() {
                $("#tg-sb-sidebar").toggle();
                $("#tg-sb-content").toggleClass('col-md-9');
                $("#tg-sb-content").toggleClass('col-md-12');
                $("#tg-sb-icon").toggleClass('fa-toggle-on');
                $("#tg-sb-icon").toggleClass('fa-toggle-off');
            });
        });
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-static-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-home fa-lg navbar-brand" href="index.html">&nbsp;<span class="projectTitle"> Eclipse Che Documentation</span></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- toggle sidebar button -->
                <li><a id="tg-sb-link" href="#"><i id="tg-sb-icon" class="fa fa-toggle-on"></i> Nav</a></li>
                <!-- entries without drop-downs appear here -->




                
                
                
                <li><a href="https://medium.com/eclipse-che-blog/" target="_blank">Blog</a></li>
                
                
                
                <li><a href="https://github.com/eclipse/che" target="_blank">Source Code</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Che Version<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="/che/docs/che-6/index.html">Che 6</a></li>
                        
                        
                        
                        <li><a href="/che/docs/che-7/index.html">Che 7 Beta</a></li>
                        
                        
                    </ul>
                </li>
                
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Get Support<b class="caret"></b></a>
                    <ul class="dropdown-menu">
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues?q=is%3Aissue+is%3Aopen+sort%3Aupdated-desc+label%3Akind%2Fbug" target="_blank">Known Bugs</a></li>
                        
                        
                        
                        <li><a href="https://github.com/eclipse/che/issues/new" target="_blank">File an Issue</a></li>
                        
                        
                        
                        <li><a href="https://stackoverflow.com/questions/tagged/eclipse-che" target="_blank">Che on StackOverflow</a></li>
                        
                        
                    </ul>
                </li>
                
                
                <!-- 
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:?subject= feedback&body=I have some feedback about the Extending Che page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>
 -->
		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="/che/docs/js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: "/che/docs/search.json",
                                searchResultTemplate: '<li><a href="{url}" title="Extending Che">{title}</a></li>',
                    noResultsText: 'No results found.',
                            limit: 10,
                            fuzzy: true,
                    })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
  <div id="main">
    <!-- Content Row -->
    <div class="row">
        
        
            <!-- Sidebar Column -->
            <div class="col-md-3" id="tg-sb-sidebar">
                

<ul id="mysidebar" class="nav">
  <li class="sidebarTitle"> </li>
  
  
  
  <li>
      <a href="#">Overview</a>
      <ul>
          
          
          
          <li><a href="introduction-to-eclipse-che.html">Introduction to Che</a></li>
          
          
          
          
          
          
          <li><a href="che-quick-starts.html">Che quick-starts</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">End-user Guide</a>
      <ul>
          
          
          
          <li><a href="using-developer-environments-workspaces.html">Using developer environments - workspaces</a></li>
          
          
          
          
          
          
          <li><a href="extending-che.html">Extending Che</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Administration Guide</a>
      <ul>
          
          
          
          <li><a href="monitoring-che.html">Monitoring Che</a></li>
          
          
          
          
          
          
          <li><a href="tracing-che.html">Tracing Che</a></li>
          
          
          
          
      </ul>
   </li>
     
      
  
  <li>
      <a href="#">Hands-on Guidance</a>
      <ul>
          
          
          
          <li><a href="contributor-tasks.html">Contributor tasks</a></li>
          
          
          
          
      </ul>
   </li>
     
      
      
      <!-- if you aren't using the accordion, uncomment this block:
         <p class="external">
             <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
         </p>
         -->
</ul>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

            </div>

            
        

        <!-- Content Column -->
        <div class="col-md-9" id="tg-sb-content">
            <div class="post-header">
   <h1 class="post-title-main">Extending Che</h1>
</div>



<div class="post-content">

   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.
$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2' });
/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top
  $(window).scrollTop(scroll_target - 10);
  return false
})

});
</script>

<div id="toc"></div>

    


    <!-- 


     -->

  <div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Eclipse Che is an extensible and customizable developer-workspaces platform.</p>
</div>
<div class="paragraph">
<p>There are three different ways to extend Eclipse Che:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative IDEs</strong> allow to provide specialized tooling within Eclipse Che. For example, a Jupyter notebook for a data analyst. Alternate IDEs can be based on Eclipse Theia or any other web IDE. The default IDE in Eclipse Che is Che-Theia.</p>
</li>
<li>
<p><strong>Che-Theia plug-ins</strong> add capabilities to the Che-Theia IDE. They rely on plug-in APIs that are compatible with Visual Studio Code. The plug-ins are isolated from the IDE itself. They can be packaged as files or as containers to provide their own dependencies.</p>
</li>
<li>
<p><strong>Stacks</strong> are pre-configured Che workspaces with a dedicated set of tools, which cover different developer personas. For example, it is possible to pre-configure a workbench for a tester with only the tools needed for their purposes.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/extending-che.png"><img src="../images/extensibility/extending-che.png" alt="extending che"></a>
</div>
<div class="title">Figure 1. Che extensibility</div>
</div>
<div class="paragraph">
<p>Extending Eclipse Che can be done entirely using Eclipse Che. Since version 7, Eclipse Che provides a self-hosting mode. Learn more at <a href="TODO">TODO LINK</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="what-is-a-che-theia-plug-in_extending-che">What is a Che-Theia plug-in</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A Che-Theia plug-in is an extension of the development environment isolated from the IDE. Plug-ins can be packaged as files or containers to provide their own dependencies.</p>
</div>
<div class="paragraph">
<p>Extending Che-Theia using plug-ins can enable the following capabilities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Language support:</strong> Extend the supported languages by relying on the <a href="https://microsoft.github.io/language-server-protocol/">Language Server Protocol</a>.</p>
</li>
<li>
<p><strong>Debuggers:</strong> Extend debugging capabilities with the <a href="https://microsoft.github.io/debug-adapter-protocol/">Debug Adapter Protocol</a>.</p>
</li>
<li>
<p><strong>Development Tools:</strong> Integrate your favorite linters, as well as testing and performance tools.</p>
</li>
<li>
<p><strong>Menus, panels, and commands:</strong> Add your own items to the IDE components.</p>
</li>
<li>
<p><strong>Themes:</strong> Build custom themes, extend the UI, or customize icon themes.</p>
</li>
<li>
<p><strong>Snippets, formatters, and syntax highlighting:</strong> Enhance comfort of use with supported programming languages.</p>
</li>
<li>
<p><strong>Keybindings:</strong> Add new keymaps and popular keybindings to make the environment feel natural.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="features-and-benefits-of-che-theia-plug-ins">Features and benefits of Che-Theia plug-ins</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Features</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
<th class="tableblock halign-left valign-top"><strong>Benefits</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Fast Loading</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plug-ins are loaded at runtime and are already compiled. IDE is loading the plug-in code.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Avoid any compilation time.Avoid post-install steps.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Secure Loading</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plug-ins are loaded separately from the IDE. The IDE stays always in an usable state.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plug-in do not break the whole IDE if it has bugs. Handle network issue.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Tooling Dependencies</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dependencies for the plug-in are packaged with the plug-in in its own container.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No-installation for tools.Dependencies running into container.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Code isolation</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Guarantee that plug-ins cannot block the main functions of the IDE like opening a file or typing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plug-ins are running into separate threads.Avoid dependencies mismatch.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>VS Code Extension Compatibility</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extend the capabilities of the IDE with existing VS Code Extensions.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Target multiple platform. Allow easy discovery of Visual Studio Code Extension with required installation.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="che-theia-plug-in-concept-in-detail_what-is-a-che-theia-plug-in">Che-Theia plug-in concept in detail</h3>
<div class="paragraph">
<p>Eclipse Che provides a default web IDE for workspaces: Che-Theia. It is based on Eclipse Theia. It is a slightly different version than a plain Eclipse Theia as there are functionalities that have been added based on the nature of the Eclipse Che workspaces. We call this version of Eclipse Theia for Che: <strong>Che-Theia</strong>.</p>
</div>
<div class="paragraph">
<p>You can extend the IDE provided with Eclipse Che by building a <strong>Che-Theia plug-in</strong>. Che-Theia plug-ins are compatible with any other Eclipse Theia-based IDE.</p>
</div>
<div class="sect3">
<h4 id="client-side-and-server-side-che-theia-plug-ins_what-is-a-che-theia-plug-in">Client-side and server-side Che-Theia plug-ins</h4>
<div class="paragraph">
<p>The Che-Theia editor plug-ins let you add languages, debuggers, and tools to your installation to support your development workflow. Plug-ins run when the editor completes loading. If a Che-Theia plug-in fails, the main Che-Theia editor continues to work.</p>
</div>
<div class="paragraph">
<p>Che-Theia plug-ins run either on the client side or on the server side. This is a scheme of the client and server-side plug-in concept:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/extensibility/client-server-side-plug-ins.png" alt="client server side plug ins">
</div>
<div class="title">Figure 2. Client and server-side Che-Theia plug-ins</div>
</div>
<div class="paragraph">
<p>The same Che-Theia plug-in API is exposed to plugins running on the client side (Web Worker) or the server side (Node.js).</p>
</div>
</div>
<div class="sect3">
<h4 id="che-theia-plug-in-apis_what-is-a-che-theia-plug-in">Che-Theia plug-in APIs</h4>
<div class="paragraph">
<p>For the purpose of providing tool isolation and easy extensibility in Eclipse Che, the Che-Theia IDE has a set of plug-in APIs. The APIs are compatible with Visual Studio Code extension APIs. In most cases, Che-Theia can run VS Code extensions as its own plug-ins. Read more at <a href="TODO">TODO LINK</a>.</p>
</div>
<div class="paragraph">
<p>If the plug-in you are authoring depends on or interacts with components of Che workspaces (containers, preferences, factories, â€¦), you can rely on the Che APIs that are embedded in Che-Theia. Learn more about the Che APIs at <a href="TODO">TODO LINK</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="che-theia-plug-in-capabilities_what-is-a-che-theia-plug-in">Che-Theia plug-in capabilities</h4>
<div class="paragraph">
<p>Che-Theia plug-ins have the following capabilities:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top"><strong>Plug-in</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
<th class="tableblock halign-left valign-top"><strong>Repository</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Che Extended Tasks</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles the Che commands and provides the ability to start those into a specific container of the workspace.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="TODO">TODO LINK</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Che Extended Terminal</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows to provide terminal for any of the containers of the workspace.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="TODO">TODO LINK</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Che Factory</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Handles the Eclipse Che Factories</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="TODO">TODO LINK</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Che Container</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provides a container view that shows all the containers that are running in the workspace and allows to interact with them.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="https://github.com/eclipse/che-theia/tree/master/plugins/containers-plugin">Containers plugins</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Che Dashboard</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Allows to integrate the IDE with Che Dashboard and facilitate the navigation.</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="TODO">TODO LINK</a></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Che APIs</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extends the IDE APIs to allow interacting with Che-specific components (workspaces, preferences, etc.).</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="TODO">TODO LINK</a></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="vs-code-extensions-and-eclipse-theia-plug-ins_what-is-a-che-theia-plug-in">VS Code extensions and Eclipse Theia plug-ins</h4>
<div class="paragraph">
<p>A Che-Theia plug-in can be based on a VS Code extension or an Eclipse Theia plug-in.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">A Visual Studio Code extension</dt>
<dd>
<p>If you have already built your plug-in as a Visual Studio Code extension, you can build the corresponding Che-Theia plug-in by repackaging the extension. If the extension is relying on its own set of dependencies, it needs to package those into a container. Eclipse Che users get the plug-in and do not have to worry about the tool dependencies. See <a href="#converting-a-visual-studio-code-extension-to-a-che-theia-plug-in_developing-che-theia-plug-ins">Converting a Visual Studio Code extension to a Che-Theia plug-in</a>.</p>
</dd>
<dt class="hdlist1">An Eclipse Theia plug-in</dt>
<dd>
<p>You can build a Che-Theia plug-in by implementing an Eclipse Theia plug-in and packaging it to Eclipse Che. Learn more about how to package a Che-Theia plug-in at <a href="TODO">TODO LINK</a>.</p>
</dd>
</dl>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#embedded-and-remote-che-theia-plug-ins_what-is-a-che-theia-plug-in">Embedded and remote Che-Theia plug-ins</a></p>
</li>
<li>
<p><a href="#converting-a-visual-studio-code-extension-to-a-che-theia-plug-in_developing-che-theia-plug-ins">Converting a Visual Studio Code extension to a Che-Theia plug-in</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="che-theia-plug-in-metadata_what-is-a-che-theia-plug-in">Che-Theia plug-in metadata</h3>
<div class="paragraph">
<p>Che-Theia plug-in metadata is information about individual plug-ins for the plugin-registry.</p>
</div>
<div class="sect3">
<h4 id="meta-yaml">meta.yaml</h4>
<div class="paragraph">
<p>The Che-Theia plug-in metadata is defined in a <code>meta.yaml</code> file for plug-in.</p>
</div>
<div class="listingblock">
<div class="title">Interface for a Che-Theia plug-in metadata object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">d</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
    <span style="color:#F00;background-color:#FAA">v</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">n</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
    <span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">y</span><span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
    <span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">m</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
        <span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">l</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
    <span style="color:#F00;background-color:#FAA">d</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">n</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
    <span style="color:#F00;background-color:#FAA">u</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">l</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
}
<span style="color:#F00;background-color:#FAA">-</span><span style="color:#F00;background-color:#FAA">-</span><span style="color:#F00;background-color:#FAA">-</span><span style="color:#F00;background-color:#FAA">-</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The most important thing is the <code>url</code>, which defines the location of plug-in configuration. Typically, it is a <code>tar</code> archive with the plug-in <code>meta.yaml</code> file.</p>
</div>
<div class="paragraph">
<p>When adding a VS Code extension from the oficial marketplace using its ID, the <code>url</code> field should be replaced with an <code>attributes</code> section that would contain <code>extension</code> and <code>container-image</code> fields:</p>
</div>
<div class="listingblock">
<div class="title">Interface for a VS Code plug-in metadata object</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">d</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
    <span style="color:#F00;background-color:#FAA">v</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">n</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
    <span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">y</span><span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
    <span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">m</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
        <span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">l</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
    <span style="color:#F00;background-color:#FAA">d</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">n</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>
    <span style="color:#F00;background-color:#FAA">A</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">b</span><span style="color:#F00;background-color:#FAA">u</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">s</span>: {
       <span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">x</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">n</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span>      <i class="conum" data-value="1"></i><b>(1)</b>
       <span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">I</span><span style="color:#F00;background-color:#FAA">m</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">;</span> <i class="conum" data-value="2"></i><b>(2)</b>
    }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>VS Code extension ID with a <code>vscode:extension/</code> prefix</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Points to the container image, in which the extension should run. The image should be based on <code>wsskeleton/theia-endpoint-runtime</code> to be able to host VS Code extensions or Che-Theia plug-ins.</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="che-plugin-yaml">che-plugin.yaml</h4>
<div class="paragraph">
<p>The most detailed information about a plug-in is in the <code>che-plugin.yaml</code> file. For example:</p>
</div>
<div class="listingblock">
<div class="title"><code>che-plugin.yaml</code> file for the <a href="https://github.com/ws-skeleton/che-editor-theia/blob/master/etc/che-plugin.yaml">che-editor-theia</a> plug-in</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">version</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">1.0.0</span></span>
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Che Editor</span></span>
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">theia-ide</span></span>
<span style="color:#606">id</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">org.eclipse.che.editor.theia</span></span>
<span style="color:#606">title</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Eclipse Theia for Eclipse Che</span></span>
<span style="color:#606">description</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Eclipse Theia</span></span>
<span style="color:#606">icon</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://pbs.twimg.com/profile_images/929088242456190976/xjkS2L-0_400x400.jpg</span></span>
<span style="color:#606">endpoints</span>:
 -  <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: &quot;theia&quot;</span></span>
    <span style="color:#606">public</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
    <span style="color:#606">targetPort</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">3100</span></span>
    <span style="color:#606">attributes</span>:
      <span style="color:#606">protocol</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">http</span></span>
      <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">ide</span></span>
      <span style="color:#606">secure</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
      <span style="color:#606">cookiesAuthEnabled</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
      <span style="color:#606">discoverable</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">false</span></span>
 -  <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: &quot;theia-dev&quot;</span></span>
    <span style="color:#606">public</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">true</span></span>
    <span style="color:#606">targetPort</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">3130</span></span>
    <span style="color:#606">attributes</span>:
      <span style="color:#606">protocol</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">http</span></span>
      <span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">ide-dev</span></span>
      <span style="color:#606">discoverable</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">false</span></span>
<span style="color:#606">containers</span>:
 - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: theia-ide</span></span>
   <span style="color:#606">image</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">eclipse/che-theia:0.3.18-nightly</span></span>
   <span style="color:#606">env</span>:
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: THEIA_PLUGINS</span></span>
         <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">local-dir:///plugins</span></span>
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: HOSTED_PLUGIN_HOSTNAME</span></span>
         <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0.0.0.0</span></span>
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">name: HOSTED_PLUGIN_PORT</span></span>
         <span style="color:#606">value</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">3130</span></span>
   <span style="color:#606">volumes</span>:
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">mountPath: &quot;/plugins&quot;</span></span>
         <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">plugins</span></span>
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">mountPath: &quot;/projects&quot;</span></span>
         <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">projects</span></span>
   <span style="color:#606">ports</span>:
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">exposedPort: 3100</span></span>
       - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">exposedPort: 3130</span></span>
   <span style="color:#606">memory-limit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">1536M</span><span style="color:#710">&quot;</span></span>
   <span style="color:#606">memoryLimit</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">1536M</span><span style="color:#710">&quot;</span></span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title"><code>che-plugin.yaml</code> file for the <a href="https://github.com/eclipse/che-machine-exec/blob/master/assembly/etc/che-plugin.yaml">che-machine-exec</a> plug-in</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">d</span><span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">s</span>:
 <span style="color:#F00;background-color:#FAA">-</span>  <span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">m</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">che-machine-exec</span><span style="color:#710">&quot;</span></span>
    <span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">u</span><span style="color:#F00;background-color:#FAA">b</span><span style="color:#F00;background-color:#FAA">l</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">c</span>: <span style="color:#088">true</span>
    <span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">P</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">t</span>: <span style="color:#00D">4444</span>
    <span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">b</span><span style="color:#F00;background-color:#FAA">u</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">s</span>:
      <span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">l</span>: <span style="color:#F00;background-color:#FAA">w</span><span style="color:#F00;background-color:#FAA">s</span>
      <span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">y</span><span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">m</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">l</span>
      <span style="color:#F00;background-color:#FAA">d</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">v</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">b</span><span style="color:#F00;background-color:#FAA">l</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#088">false</span>
<span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">s</span>:
 <span style="color:#F00;background-color:#FAA">-</span> <span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">m</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">h</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">-</span><span style="color:#F00;background-color:#FAA">m</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">h</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">-</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">x</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">c</span>
   <span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">m</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">l</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">/</span><span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">h</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">-</span><span style="color:#F00;background-color:#FAA">m</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">h</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">-</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">x</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">c</span>
   <span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">s</span>:
     <span style="color:#F00;background-color:#FAA">-</span> <span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">x</span><span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">d</span><span style="color:#F00;background-color:#FAA">P</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">t</span>: <span style="color:#00D">4444</span>
<span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">d</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">s</span>:
   <span style="color:#F00;background-color:#FAA">-</span> <span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">d</span>: <span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">.</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">l</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">p</span><span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">.</span><span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">h</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">.</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">d</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">.</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">h</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">a</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="che-theia-plug-in-lifecycle_what-is-a-che-theia-plug-in">Che-Theia plug-in lifecycle</h3>
<div class="paragraph">
<p>When a user is starting a workspace, the following procedure is followed:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Che master checks for plug-ins to start from the workspace definition.</p>
</li>
<li>
<p>Plug-in metadata is retrieved, and the type of each plug-in is recognized.</p>
</li>
<li>
<p>A broker is selected according to the plug-in type.</p>
</li>
<li>
<p>The broker processes the installation and deployment of the plug-in (the installation process is different for each broker).</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
There are different types of plug-ins (<a href="link">TODO LINK</a>). A broker ensures all installation requirements are met for a plug-in to deploy correctly.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/che-theia-plug-in-lifecycle.png"><img src="../images/extensibility/che-theia-plug-in-lifecycle.png" alt="che theia plug in lifecycle"></a>
</div>
<div class="title">Figure 3. Che-Theia plug-in lifecycle</div>
</div>
<div class="paragraph">
<p>Before a Che workspace is launched, Che master starts containers for the workspace:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The Che-Theia plug-in broker extracts the plug-in (from the <code>.theia</code> file) to get the sidecars containers that the plug-in needs.</p>
</li>
<li>
<p>The broker sends the appropriate container informations to Che master.</p>
</li>
<li>
<p>The broker copies the Che-Theia plug-in to a volume to have it available for the Che-Theia Editor container.</p>
</li>
<li>
<p>Che workspace master is then starting all the containers of the workspace.</p>
</li>
<li>
<p>Che-Theia is started in its own container and checks the right folder to load the plug-ins.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Che-Theia plug-in lifecycle:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>When a user is opening a browser tab or window with Che-Theia, Che-Theia starts a new plug-in session (browser or remote <strong>TODO: 'what is <em>remote</em> in this context?'</strong>). Every Che-Theia plug-in is notified that a new session has been started (the <code>start()</code> function of the plug-in triggered).</p>
</li>
<li>
<p>A Che-Theia plug-in session is running and interacting with the Che-Theia backend and frontend.</p>
</li>
<li>
<p>When the user is closing the browser tab or there is a timeout, every plug-in is notified (the <code>stop()</code> function of the plug-in triggered).</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="embedded-and-remote-che-theia-plug-ins_what-is-a-che-theia-plug-in">Embedded and remote Che-Theia plug-ins</h3>
<div class="paragraph">
<p>Developer workspaces in Eclipse Che provide all dependencies needed to work on a project. The application includes the dependencies needed by all the tools and plug-ins used.</p>
</div>
<div class="paragraph">
<p>There are two different ways a Che-Theia plug-in can run. This is based on the dependencies that are needed for the plug-in: <strong>embedded</strong> (or local) and <strong>remote</strong>.</p>
</div>
<div class="sect3">
<h4 id="embedded-or-local-plug-ins_what-is-a-che-theia-plug-in">Embedded (or local) plug-ins</h4>
<div class="paragraph">
<p>The plug-in does not have specific dependencies&#8201;&#8212;&#8201;it only uses a Node.js runtime, and it runs in the same container as the IDE. The plug-in is injected into the IDE.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Code linting</p>
</li>
<li>
<p>New set of commands</p>
</li>
<li>
<p>New UI components</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To include a Che-Theia plugin as embedded, you need to define a URL to the plug-in binary (the <code>.theia</code> archive) in the <code>meta.yaml</code> file. In the case of a VS Code extension, provide the extension&#8217;s ID from the Visual Studio Code  marketplace (see <a href="#converting-a-visual-studio-code-extension-to-a-che-theia-plug-in_developing-che-theia-plug-ins">Converting a Visual Studio Code extension to a Che-Theia plug-in</a>).</p>
</div>
<div class="paragraph">
<p>When starting a workspace, Che downloads and unpacks the plug-in binaries and includes them in the Che-Theia editor container. The Che-Theia editor initialize the plug-ins when it starts.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/extensibility/local-che-theia-plug-in.png" alt="local che theia plug in">
</div>
<div class="title">Figure 4. Local Che-Theia plug-in</div>
</div>
</div>
<div class="sect3">
<h4 id="remote-plug-ins_what-is-a-che-theia-plug-in">Remote plug-ins</h4>
<div class="paragraph">
<p>The plug-in relies on dependencies or it has a backend. It runs in its own sidecar container, and all dependencies are packaged in the container.</p>
</div>
<div class="paragraph">
<p>A remote Che-Theia plug-in consist of two parts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Che-Theia plug-in or VS Code extension binaries. The definition in the <code>meta.yaml</code> file is the same as for embedded plug-ins.</p>
</li>
<li>
<p>Container image definition, for example, <code>eclipse/che-theia-dev:nightly</code>. From this image, Che creates a separate container inside a workspace.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Java Language Server</p>
</li>
<li>
<p>Python Language Server</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When starting a workspace, Che creates a container from the plug-in image, downloads and unpacks the plug-in binaries, and includes them in the created container. The Che-Theia editor connects to the remote plug-ins when it starts.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/extensibility/remote-che-theia-plug-in.png" alt="remote che theia plug in">
</div>
<div class="title">Figure 5. Remote Che-Theia plug-in</div>
</div>
</div>
<div class="sect3">
<h4 id="comparison-matrix">Comparison matrix</h4>
<div class="paragraph">
<p>When a Che-Theia plug-in (or a VS Code extension) does not need extra dependencies inside its container, it is an embedded plug-in. A container with extra dependencies that includes a plug-in is a remote plug-in.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Che-Theia plug-in comparison matrix: embedded vs remote</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">&#160;</th>
<th class="tableblock halign-left valign-top">Configure RAM per plug-in</th>
<th class="tableblock halign-left valign-top">Environment dependencies</th>
<th class="tableblock halign-left valign-top">Create separated container</th>
</tr>
</thead>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Remote</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plug-in uses dependencies defined in the remote container</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TRUE</p></td>
</tr>
<tr>
<th class="tableblock halign-left valign-top"><p class="tableblock">Embedded</p></th>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE (users can configure RAM for the whole editor container, but not per plug-in)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">plug-in uses dependencies from the editor container; if container does not include these dependencies, the plug-in fails or does not function correctly</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">FALSE</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Depending on your use case and the capabilities provided by your plug-in, select one of the described running modes.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="developing-che-theia-plug-ins_extending-che">Developing Che-Theia plug-ins</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="bootstrapping-che-theia-plug-in-development-with-yeoman_developing-che-theia-plug-ins">Bootstrapping Che-Theia plug-in development with Yeoman</h3>
<div class="paragraph">
<p>There are two ways to scaffold a new plug-in development environment in Che-Theia:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Console plug-in generator (based on the Yeoman generator)</p>
</li>
<li>
<p><strong>Yeomand wizard</strong> (launched from the command palette)</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="list-of-available-plug-in-samples_developing-che-theia-plug-ins">List of available plug-in samples</h4>
<div class="paragraph">
<p>The Che-theia plug-in generator provides a number of pre-defined samples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Hello World plug-in</strong>: The plug-in registers a new Che-Theia command. When the user launches this command, Che-Theia displays a notification with the <code>Hello World</code> message. The example illustrates how to define and use commands in Che-Theia.</p>
</li>
<li>
<p><strong>Skeleton plug-in</strong>: The plug-in prints the current Che-Theia window state in the browser log.</p>
</li>
<li>
<p><strong>Samples plug-in</strong>: The plug-in contains examples of how to use the Che-Theia API:</p>
<div class="ulist">
<ul>
<li>
<p>Commands sample: The plug-in shows how to define a Che-Theia command with arguments. Command arguments are useful when another plug-in needs to call a command with parameters.</p>
</li>
<li>
<p>Information message sample: An example how to define and show a modal information message.</p>
</li>
<li>
<p>Quick-pick sample: An example how to define a command list with items and a handler for a selected item.</p>
</li>
<li>
<p>Status-bar item sample: An example how to apply information to the status bar. The status bar is a widget located at the bottom of the Che-Theia window (a footer).</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="generating-plug-ins-overview_developing-che-theia-plug-ins">Generating plug-ins - overview</h4>
<div class="paragraph">
<p>To simplify plug-in development, there is a plug-in generator (<code>@theia/generator-plugin</code>) for creating new plug-ins from scratch. The plug-in generator provides the <strong>Yeoman wizard</strong> for a step-by-step plug-in generation:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Choose project name for the future plug-in.</p>
</li>
<li>
<p>Select plug-in type. The Che-Theia plug-in API has two plug-in types:</p>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>frontend (the plug-in works on the client side)</p>
</li>
<li>
<p>backend (the plug-in works on the server side)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="paragraph">
<p>During plug-in creation, you need to choose decide the purpose of the plug-in and select the desired plug-in type.</p>
</div>
</li>
<li>
<p>Select a plug-in sample.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><strong>TODO</strong> Apply stack for development: For plugin development inside Eclipse CHE You could use any stack, but apply theia-dev plugin.  This stack contains installed npm, node, git and preinstalled <code>@theia/generator-plugin.</code></p>
</div>
</div>
<div class="sect3">
<h4 id="installing-the-plug-in-generator_developing-che-theia-plug-ins">Installing the plug-in generator</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the following command to install the plug-in generator:</p>
<div class="listingblock">
<div class="content">
<pre>$ yarn add global yo @theia/generator-plugin</pre>
</div>
</div>
</li>
<li>
<p>Check that the <code>@theia/plugin</code> generator is installed:</p>
<div class="listingblock">
<div class="content">
<pre>$ yo --help</pre>
</div>
</div>
<div class="paragraph">
<p>The command should return a list of pre-installed generators.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="generating-a-new-plug-in-in-the-console_developing-che-theia-plug-ins">Generating a new plug-in in the console</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a new terminal inside your workspace using the <strong>Terminal</strong> menu, and run the plug-in generator:</p>
<div class="listingblock">
<div class="content">
<pre>$ yo @theia/plugin</pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, you can run <code>yo</code> without any parameters and select the <code>@theia/plugin</code> generator from the list of available generators:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/yo-select-plug-in-generator.png"><img src="../images/extensibility/yo-select-plug-in-generator.png" alt="yo select plug in generator"></a>
</div>
</div>
</li>
<li>
<p>Enter information to configure the plug-in. For example:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/launching-console-plug-in-generator.png"><img src="../images/extensibility/launching-console-plug-in-generator.png" alt="launching console plug in generator"></a>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>When the plug-in is generated, it should appear in the <strong>Files</strong> panel. The sample is already compiled and contains the plug-in binary. In this example, the plug-in binary is named <code>my_first_plugin.theia</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="generating-a-new-plug-in-using-the-yeoman-wizard_developing-che-theia-plug-ins">Generating a new plug-in using the Yeoman wizard</h4>
<div class="paragraph">
<p>Che-theia provides the <code>Yeoman wizard</code> command for creating new plug-ins from the command palette.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Launch the command palette, press <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>p</kbd></span> (or <span class="keyseq"><kbd>Cmd</kbd>+<kbd>Shift</kbd>+<kbd>p</kbd></span> on macOS).</p>
</li>
<li>
<p>Type <code>Yeom</code> to filter commands. Select the <code>Yeoman Wizard</code> command:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/yeoman-wizard-launching.png"><img src="../images/extensibility/yeoman-wizard-launching.png" alt="yeoman wizard launching"></a>
</div>
</div>
<div class="paragraph">
<p>Note that launching the wizarad may take a few seconds.</p>
</div>
</li>
<li>
<p>Enter the new project name.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/yeoman-wizard-choosing-plug-in-name.png"><img src="../images/extensibility/yeoman-wizard-choosing-plug-in-name.png" alt="yeoman wizard choosing plug in name"></a>
</div>
</div>
</li>
<li>
<p>Select the desired plug-in type (client-side or server-side):</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/yeoman-wizard-choosing-plug-in-type.png"><img src="../images/extensibility/yeoman-wizard-choosing-plug-in-type.png" alt="yeoman wizard choosing plug in type"></a>
</div>
</div>
</li>
<li>
<p>Select the plug-in sample to use:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/yeoman-wizard-choosing-plug-in-sample.png"><img src="../images/extensibility/yeoman-wizard-choosing-plug-in-sample.png" alt="yeoman wizard choosing plug in sample"></a>
</div>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>When the plug-in is generated, the <strong>Yeoman wizard</strong> display a notification:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/yeoman-wizard-plug-in-generated.png"><img src="../images/extensibility/yeoman-wizard-plug-in-generated.png" alt="yeoman wizard plug in generated"></a>
</div>
</div>
<div class="paragraph">
<p>The plug-in sample should appear on the <strong>Files</strong> panel. Logs about the plug-in generation can be accessed using the <strong>Output</strong> in the bottom panel:</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/yeoman-wizard-logs.png"><img src="../images/extensibility/yeoman-wizard-logs.png" alt="yeoman wizard logs"></a>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <strong>Yeoman wizard</strong> only works when a workspace is opened in Che-Theia.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="developing-che-theia-plug-ins-using-che_developing-che-theia-plug-ins">Developing Che-Theia plug-ins using Che</h3>
<div class="paragraph">
<p>This describes how to set up a environment for developing Che-Theia plug-ins in Eclipse Che.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>A running instance of Eclipse Che</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p><strong>Create a workspace for development.</strong> Che has dedicated stack for plug-in development. Go to the Che <strong>Dashboard</strong>, switch to the <strong>Workspaces</strong> tab, and click the <b class="button">Add Workspace</b> button:</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/adding-workspace.png"><img src="../images/extensibility/adding-workspace.png" alt="adding workspace"></a>
</div>
<div class="title">Figure 6. Adding a workspace</div>
</div>
</li>
<li>
<p>Select the <strong>Che 7 Dev</strong> stack, and click the <b class="button">CREATE &amp; OPEN</b> button.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/choosing-che-7-dev-stack.png"><img src="../images/extensibility/choosing-che-7-dev-stack.png" alt="choosing che 7 dev stack"></a>
</div>
<div class="title">Figure 7. Choosing the 'Che 7 Dev' stack</div>
</div>
</li>
<li>
<p><strong>Generate a plug-in scaffold.</strong> The workspace created from this stack provides an easy way to quickly scaffold a new plug-in. When the workspace is started and fully ready, execute the <strong>Yeoman Wizard</strong> from the command palette:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Press <strong>F1</strong> or <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>p</kbd></span> to invoke the command palette, and start typing the command name <code>Yeoman &#8230;&#8203;</code> (note: you can use the keyboard to navigate through the offered commands).</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/launching-yeoman-wizard.png"><img src="../images/extensibility/launching-yeoman-wizard.png" alt="launching yeoman wizard"></a>
</div>
<div class="title">Figure 8. Launching the Yeoman Wizard</div>
</div>
</li>
<li>
<p>Provide answers to the questions about the plug-in you want to create:</p>
<div class="ulist">
<ul>
<li>
<p>plug-in name: for example, <code>my-first-plugin</code></p>
</li>
<li>
<p>plug-in type: select <code>backend plug-in</code></p>
</li>
<li>
<p>plug-in template: select <code>Hello World plug-in</code></p>
<div class="paragraph">
<p>You will get a a message confirming that the plug-in generation has been successful.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/yeoman-successful.png"><img src="../images/extensibility/yeoman-successful.png" alt="yeoman successful"></a>
</div>
<div class="title">Figure 9. Yeoman successfully generated a new plug-in</div>
</div>
</li>
</ul>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Open the <strong>Files</strong> panel, to see the sources of the generated plug-in in the <code>src</code> directory.</p>
</li>
<li>
<p><strong>Build the plug-in.</strong> You have successfully created a new plug-in. Now you need to build it:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>Open a new terminal in the development container (use <span class="keyseq"><kbd>Ctrl</kbd>+<kbd>`</kbd></span>, then select <code>ws/dev</code>).</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/open-terminal-in-container.png"><img src="../images/extensibility/open-terminal-in-container.png" alt="open terminal in container"></a>
</div>
<div class="title">Figure 10. Opening a new terminal in development container</div>
</div>
</li>
<li>
<p>In the terminal, go to the plug-in directory, and run the <code>yarn</code> command:</p>
<div class="listingblock">
<div class="content">
<pre># cd my-first-plugin/
# yarn</pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/building-plug-in-using-yarn.png"><img src="../images/extensibility/building-plug-in-using-yarn.png" alt="building plug in using yarn"></a>
</div>
<div class="title">Figure 11. Building a Che-Theia plug-in using <code>yarn</code></div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The plug-in generator automatically builds the plug-in after its generation.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Run the plug-in.</strong> To see your plug-in in action in the IDE, use the <strong>Hosted mode</strong> to start a new IDE instance and get the plug-in installed in it. This way, you will have two IDEs running: one for developing your plug-in and one for testing it.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the command palette, run: <code>Hosted Plugin: Start Instance</code> (press <kbd>F1</kbd>, and type the command).</p>
</li>
<li>
<p>Select the path to the root directory of the plug-in in your workspace.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you get a warning that your browser prevented the opening of a new tab, click the <b class="button">Open</b> button in the dialog. After that, a new tab with another Theia instance (with the developed plug-in loaded) will be opened.
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/running-plug-in-hosted-mode.gif"><img src="../images/extensibility/running-plug-in-hosted-mode.gif" alt="running plug in hosted mode"></a>
</div>
<div class="title">Figure 12. Running a Che-Theia plug-in in Hosted mode</div>
</div>
</li>
</ol>
</div>
</li>
<li>
<p><strong>Debug the plug-in.</strong></p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>In the source code of your plug-in, set a breakpoint by clicking behind a line number (in the editor gutter).</p>
</li>
<li>
<p>Using the command palette, stop your <strong>Hosted Plug-in</strong> instance (if any) by running the <code>Hosted Plugin: Stop Instance</code> command.</p>
</li>
<li>
<p>Start the <strong>Hosted Plug-in</strong> instance again in debugging mode by running the <code>Hosted Plugin: Debug Instance</code> command.</p>
</li>
<li>
<p>Switch to the <strong>Hosted Instance</strong> tab and do some actions to reach the code with the breakpoint.</p>
</li>
<li>
<p>Go back to <strong>Main Theia</strong>, and use the <strong>Debug</strong> panel as you need.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/debugging-plug-ins.gif"><img src="../images/extensibility/debugging-plug-ins.gif" alt="debugging plug ins"></a>
</div>
<div class="title">Figure 13. Debugging a Che-Theia plug-in</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When developing a frontend plug-in, debug it using your browserâ€™s Developer Tools.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="converting-a-visual-studio-code-extension-to-a-che-theia-plug-in_developing-che-theia-plug-ins">Converting a Visual Studio Code extension to a Che-Theia plug-in</h3>
<div class="paragraph">
<p>This section describes how to install a <a href="https://marketplace.visualstudio.com/vscode">VS Code extension</a> to an Eclipse Che workspace. The procedure uses the <a href="https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode">SonarLint extension</a> as an example.</p>
</div>
<div class="paragraph">
<p>A VS Code extension can be bundled inside a Che-Theia plug-in. Che-Theia would not only contain the VS Code extension but also the container that would host the extension. The container would be predefined with all the needed dependencies to run the VS Code extension. For instance, the container for the Java VS Code extension would contain the right version of the JDK and also Maven or Gradle.</p>
</div>
<div class="paragraph">
<p>Learn how to create the container that will host our VS Code extension. It should be based on the <code>wsskeleton/theia-endpoint-runtime</code> image. This base image contains the runtime to launch VS Code extensions in sidecars. The container image will be built with all the necessary tools, software, and plug-in dependencies, including Java, Go, etc. The container image for our SonarLint plug-in looks like the following: <a href="https://github.com/eclipse/che-theia/blob/master/dockerfiles/remote-plugin-runner-java8/Dockerfile">remote-plugin-runner-java8/Dockerfile</a>. It is available from DockerHub: <code>garagatyi/remotetheia:java</code>.</p>
</div>
<div class="paragraph">
<p>A Che-Theia plug-in is defined by its <code>meta.yaml</code> configuration file. The file describes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>IDE plug-in location (in our case, a VS Code extension identifier from the VS Code marketplace)</p>
</li>
<li>
<p>container image that hosts the plug-in</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Create the <code>meta.yaml</code> file for yout plug-in. The following is the <code>meta.yaml</code> file of the SonarLint Che-Theia plug-in (GitHub link: <a href="https://github.com/eclipse/che-plugin-registry/blob/master/plugins/org.eclipse.che.vscode-sonarlint/0.0.1/meta.yaml">org.eclipse.che.vscode-sonarlint/0.0.1/meta.yaml</a>):</p>
<div class="listingblock">
<div class="title">SonarLint Che-Theia plug-in <code>meta.yaml</code> file</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">id</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">org.eclipse.che.vscode-sonarlint</span></span>
<span style="color:#606">version</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0.0.1</span></span>
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">VS Code extension</span></span>
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">vscode-sonarlint</span></span>
<span style="color:#606">title</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Sonarlint code intelligence</span></span>
<span style="color:#606">description</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">VS Code extension that provides sonarlint features</span></span>
<span style="color:#606">icon</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://www.eclipse.org/che/images/logo-eclipseche.svg</span></span>
<span style="color:#606">attributes</span>:
  <span style="color:#606">extension</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">vscode:extension/SonarSource.sonarlint-vscode</span><span style="color:#710">&quot;</span></span>     <i class="conum" data-value="1"></i><b>(1)</b>
  <span style="color:#606">containerImage</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">garagatyi/remotetheia:java</span><span style="color:#710">&quot;</span></span>                   <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The <code>extension</code> attribute consists of the <code>vscode:extension/</code> prefix and the VS Code extension ID, which can be retrieved from the extension details page at <a href="https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode">SonarLint extension</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The <code>containerImage</code> attribute contains the container-image name in the form <code>&lt;registry&gt;/&lt;org&gt;/&lt;repo&gt;:&lt;tag&gt;</code>. This attribute is optional. Without it, the extension runs on the Che-Theia IDE container.</td>
</tr>
</table>
</div>
</li>
<li>
<p>Activate the Che-Theia plug-in in your Che workspace by adding its location to the workspace configuration:</p>
<div class="listingblock">
<div class="title">Che configuration with Che-Theia plug-in information</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span style="color:#606"><span style="color:#404">&quot;</span><span>attributes</span><span style="color:#404">&quot;</span></span>: {
  <span style="color:#606"><span style="color:#404">&quot;</span><span>editor</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">org.eclipse.che.editor.theia:1.0.0</span><span style="color:#710">&quot;</span></span>,
  <span style="color:#606"><span style="color:#404">&quot;</span><span>plugins</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">che-machine-exec-plugin:0.0.1,https://raw.githubusercontent.com/eclipse/che-plugin-registry/master/plugins/org.eclipse.che.vscode-sonarlint:0.0.1</span><span style="color:#710">&quot;</span></span>
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, we activate two Che-Theia plug-ins: <code>che-machine-exec-plugin</code> and <code>SonarLint</code>. The plug-ins are referenced in different ways:</p>
</div>
<div class="openblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>The SonarLint plug-in is referenced by its location in a custom registry: <code>https://custom.registry.location.url:version</code>. In this case, the registry location is: <a href="https://raw.githubusercontent.com/eclipse/che-plugin-registry/master/plugins/org.eclipse.che.vscode-sonarlint">org.eclipse.che.vscode-sonarlint</a>, and the version is <code>0.0.1</code>.</p>
</li>
<li>
<p>The Che-machine-exec plug-in is referenced by its ID defined in the default Che plug-in registry, which is located at <a href="https://che-plugin-registry.openshift.io/plugins/">https://che-plugin-registry.openshift.io/plugins/</a>.</p>
</li>
</ul>
</div>
</div>
</div>
</li>
<li>
<p>Restart the workspace. You should see the logs listing the plug-ins being installed. We can see our Sonarlint Che-VSCode plugin.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/plug-in-installation-log.png"><img src="../images/extensibility/plug-in-installation-log.png" alt="plug in installation log"></a>
</div>
<div class="title">Figure 14. Plug-in installation logs</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="testing-che-theia-plug-ins_extending-che">Testing Che-Theia plug-ins</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Developers can test how plug-ins work while working on themby running Che-Theia in hosted mode. It is a special mode in which Che-Theia loads your plug-in directly from the <code>/projects</code> directory (as opposed to the rest of the plug-ins, which are loaded from the plug-in registry). Che-Theia hosted mode is similar to debug mode in VS Code.</p>
</div>
<div class="sect2">
<h3 id="starting-a-hosted-che-theia-instance">Starting a hosted Che-Theia instance</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Press F1 to display the command palette, and run the <code>Hosted Plugin: Start Instance</code> command.</p>
</li>
<li>
<p>Specify the path to the plug-in. A new browser tab will be opened.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Status in the hosted instance</div>
<p>When running in hosted mode, Che-Theia displays a <strong>Development Host</strong> message in the status bar. When you hover over the message, a tip is displayed with the name of the hosted plug-in.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/extensibility/che-theia-hosted-mode.png" alt="che theia hosted mode">
</div>
</div>
<div class="paragraph">
<div class="title">Status in the main instance</div>
<p>At the same time, the main instance of Che-Theia displays a <strong>Hosted Plugin</strong> message in the status bar. This element indicates the state of the hosted instance. After starting the hosted instance, main Che-Theia begins to watch the code changes.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/extensibility/watching-hosted-plug-in.png" alt="watching hosted plug in">
</div>
</div>
<div class="paragraph">
<p>When you change something in your plug-in, you can just switch to the hosted Che-Theia instance, refresh the page, and immediately see the results.</p>
</div>
<div class="paragraph">
<div class="title">Plug-in output</div>
<p>When you run a hosted instance, the main Che-Theia instance opens the <strong>Output</strong> view. This view contains all output from the <code>yarn</code> backend process. It also contains the output of the backend plug-in that is being developed.</p>
</div>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/hosted-instance-output.png"><img src="../images/extensibility/hosted-instance-output.png" alt="hosted instance output"></a>
</div>
</div>
</div>
<div class="sect2">
<h3 id="controlling-a-hosted-che-theia-instance">Controlling a hosted Che-Theia instance</h3>
<div class="paragraph">
<p>You can control the state of the hosted instance directly from the main instance. Click <strong>Hosted Plugin</strong> element in the status bar, and a context menu with available actions will be displayed. You will be able to stop and restart the running hosted Che-Theia instance. When a hosted instance is stopped, the context menu can be used to start it.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/extensibility/controlling-hosted-che-theia.png" alt="controlling hosted che theia">
</div>
</div>
</div>
<div class="sect2">
<h3 id="using-code-completion">Using code completion</h3>
<div class="paragraph">
<p>There is a full code completion provided to help you write your plug-in. Code completion covers both the Che-Theia plug-in API and the Che plug-in API.</p>
</div>
<div class="exampleblock">
<div class="title">Example 1. Code-completion example</div>
<div class="content">
<div class="paragraph">
<p>Your plug-in will handle the opening of a document and displaying a notification message when the document is opened.</p>
</div>
<div class="paragraph">
<p><span class="image"><a class="image" href="../images/extensibility/code-completion-example.gif"><img src="../images/extensibility/code-completion-example.gif" alt="code completion example"></a></span></p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="publishing-che-theia-plug-ins_extending-che">Publishing Che-Theia plug-ins</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="che-theia-plug-in-registries_publishing-che-theia-plug-ins">Che-Theia plug-in registries</h3>
<div class="paragraph">
<p>A plug-in registry is a simple service that hosts information (metadata) about plug-ins.</p>
</div>
<div class="paragraph">
<p>To retrieve a full list of plug-ins hosted in a registry, navigate to the following address: <code>&lt;registry-base-uri&gt;/plugins/index.json</code>.</p>
</div>
<div class="paragraph">
<p>Each plug-in item in the list is represented by a JSON definition:</p>
</div>
<div class="listingblock">
<div class="title">Sample plug-in definition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
    <span style="color:#606"><span style="color:#404">&quot;</span><span>id</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">che-dummy-plugin</span><span style="color:#710">&quot;</span></span>,
    <span style="color:#606"><span style="color:#404">&quot;</span><span>version</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">0.0.1</span><span style="color:#710">&quot;</span></span>,
    <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Che Plugin</span><span style="color:#710">&quot;</span></span>,
    <span style="color:#606"><span style="color:#404">&quot;</span><span>name</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Che Samples Hello World Plugin</span><span style="color:#710">&quot;</span></span>,
    <span style="color:#606"><span style="color:#404">&quot;</span><span>description</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">A hello world theia plug-in wrapped into a Che Plug-in</span><span style="color:#710">&quot;</span></span>,
    <span style="color:#606"><span style="color:#404">&quot;</span><span>links</span><span style="color:#404">&quot;</span></span>: {
        <span style="color:#606"><span style="color:#404">&quot;</span><span>self</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">/plugins/che-dummy-plugin/0.0.1/meta.yaml</span><span style="color:#710">&quot;</span></span>                  <i class="conum" data-value="1"></i><b>(1)</b>
 }</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Points to a more complete plug-in description (<code>meta.yaml</code>).</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Sample plug-in <code>meta.yaml</code> file</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="yaml"><span style="color:#606">id</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">che-dummy-plugin</span></span>
<span style="color:#606">version</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">0.0.1</span></span>
<span style="color:#606">type</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Che Plugin</span></span>
<span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Che Samples Hello World Plugin</span></span>
<span style="color:#606">title</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Che Samples Hello World Plugin</span></span>
<span style="color:#606">description</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">A hello world theia plug-in wrapped into a Che Plug-in</span></span>
<span style="color:#606">icon</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://www.eclipse.org/che/images/logo-eclipseche.svg</span></span>
<span style="color:#606">url</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">https://github.com/ws-skeleton/che-dummy-plugin/releases/download/untagged-8f3e198285a2f3b6b2db/che-dummy-plugin.tar.gz </span></span><i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Points to plug-in configuration. Typically, it is a TAR archive with the plug-in&#8217;s YAML file. It is also possible to have a link to a raw content of a plug-in&#8217;s YAML.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For a VS Code extension, the <code>url</code> field is replaced with an <code>attributes</code> section:</p>
</div>
<div class="listingblock">
<div class="title">Sample <code>attributes</code> section of <code>meta.yaml</code></div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">b</span><span style="color:#F00;background-color:#FAA">u</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">s</span>:
<span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">x</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">s</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">n</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">vscode:extension/extension.id</span><span style="color:#710">&quot;</span></span>             <i class="conum" data-value="1"></i><b>(1)</b>
<span style="color:#F00;background-color:#FAA">c</span><span style="color:#F00;background-color:#FAA">o</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">t</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">n</span><span style="color:#F00;background-color:#FAA">e</span><span style="color:#F00;background-color:#FAA">r</span><span style="color:#F00;background-color:#FAA">-</span><span style="color:#F00;background-color:#FAA">i</span><span style="color:#F00;background-color:#FAA">m</span><span style="color:#F00;background-color:#FAA">a</span><span style="color:#F00;background-color:#FAA">g</span><span style="color:#F00;background-color:#FAA">e</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">my.docker.registry/remote-theia:tag</span><span style="color:#710">&quot;</span></span> <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>VS Code extension ID with a <code>vscode:extension/</code> prefix</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Points to a container image in which the extension runs. Note that the image should contain an appropriate Node.js version with installed dependencies for Che-Theia remote plug-ins.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For more details about the <code>meta.yaml</code> structure, see <a href="#che-theia-plug-in-metadata_what-is-a-che-theia-plug-in">Che-Theia plug-in metadata</a>.</p>
</div>
<div class="sect3">
<h4 id="official-plug-in-registry_publishing-che-theia-plug-ins">Official plug-in registry</h4>
<div class="paragraph">
<p>The official Che plug-in registry is at <a href="https://che-plugin-registry.openshift.io">che-plugin-registry.openshift.io</a>. By default, the Che dashboard shows editors and plug-ins from there.</p>
</div>
<div class="paragraph">
<p>The source is located at link: <a href="https://github.com/eclipse/che-plugin-registry">github.com/eclipse/che-plugin-registry</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="custom-plug-in-registries_publishing-che-theia-plug-ins">Custom plug-in registries</h4>
<div class="paragraph">
<p>For more information about setting up a custom registry, see the description of the <a href="https://github.com/eclipse/che-plugin-registry">official registry repository</a>.</p>
</div>
<div class="paragraph">
<p>There are two ways of using plug-ins from a custom registry:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Specify a link to plug-in in the configuration of a workspace. See <a href="#adding-a-plug-in-by-configuring-a-workspace_publishing-che-theia-plug-ins">Adding a plug-in into a workspace via configuration</a>.</p>
</li>
<li>
<p>Replace the default official registry with a custom one in your Che instance. To do that, set the <code>PLUGIN_REGISTRY_IMAGE</code> environment variable in your Che configuration. Note that plug-ins from the official registry will not be available from the dashboard interface. To include them, add references into your registry from the official registry.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#che-theia-plug-in-metadata_what-is-a-che-theia-plug-in">Che-Theia plug-in metadata</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="adding-a-che-theia-plug-in-to-the-che-plug-in-registry_publishing-che-theia-plug-ins">Adding a Che-Theia plug-in to the Che plug-in registry</h3>
<div class="paragraph">
<p>To have a Che-Theia plug-in available in the default Che plug-in registry, submit a pull request to the registry GitHub repository.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>Che-Theia plug-in definition file: <code>meta.yaml</code></p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Procedure</div>
<ol class="arabic">
<li>
<p>Submit a PR with the <code>meta.yaml</code> file of your Che-Theia plug-in in the <code>plugins/&lt;your-plug-in-id&gt;/&lt;version&gt;/</code> directory to the Che plug-in registry GitHub repository at <a href="https://github.com/eclipse/che-plugin-registry/">che-plugin-registry</a>.</p>
<div class="paragraph">
<p>For example, SonarLint Che-Theia plug-in is located in <code>plugins/org.eclipse.che.vscode-sonarlint/0.0.1/meta.yaml</code>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once new Che-Theia plug-ins are added and merged to the repository, the list of available plug-ins in the registry is updated.</p>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="https://che-plugin-registry.openshift.io/plugins/">Che plug-in registry</a></p>
</li>
<li>
<p><a href="https://github.com/eclipse/che-plugin-registry/">che-plugin-registry GitHub repository</a></p>
</li>
<li>
<p><a href="#converting-a-visual-studio-code-extension-to-a-che-theia-plug-in_developing-che-theia-plug-ins">Converting a Visual Studio Code extension to a Che-Theia plug-in</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="adding-a-che-theia-plug-in-into-a-workspace_publishing-che-theia-plug-ins">Adding a Che-Theia plug-in into a workspace</h3>
<div class="paragraph">
<p>There are three ways of adding a Che-Theia plug-in into the Che-Theia IDE:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Using the Che-Theia dashboard</p>
</li>
<li>
<p>By configuring a workspace</p>
</li>
<li>
<p>At runtime</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="adding-a-plug-in-through-the-dashboard_publishing-che-theia-plug-ins">Adding a plug-in through the dashboard</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to the <strong>Workspaces</strong> tab in the dashboard.</p>
</li>
<li>
<p>Select the workspace into which the plug-in should be added.</p>
</li>
<li>
<p>In workspace details, switch to the <strong>Plugins</strong> tab, and select the required plug-ins.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/adding-plug-ins-in-dashboard.png"><img src="../images/extensibility/adding-plug-ins-in-dashboard.png" alt="adding plug ins in dashboard"></a>
</div>
<div class="title">Figure 15. Adding plug-ins through the dashboard</div>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="adding-a-plug-in-by-configuring-a-workspace_publishing-che-theia-plug-ins">Adding a plug-in by configuring a workspace</h4>
<div class="paragraph">
<p>This method is useful when you need to add plug-ins from a non-default registry.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Go to the <strong>Workspaces</strong> tab in the dashboard.</p>
</li>
<li>
<p>Select the workspace into which the plug-in should be added.</p>
</li>
<li>
<p>Switch to the <strong>Config</strong> tab, and find the <code>attributes.plugins</code> section.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/adding-plug-ins-in-workspace-configuration.png"><img src="../images/extensibility/adding-plug-ins-in-workspace-configuration.png" alt="adding plug ins in workspace configuration"></a>
</div>
<div class="title">Figure 16. Adding plug-ins by configuring a workspace</div>
</div>
<div class="paragraph">
<p>Plug-ins are separated by commas (<code>,</code>).</p>
</div>
</li>
<li>
<p>To add plug-ins, append new records after the separator. A record has the following format:</p>
<div class="listingblock">
<div class="content">
<pre> &lt;registry-base-uri&gt;/plugins/&lt;plugin-name&gt;:&lt;version&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>https://custom-registry/plugins/org.name.plugin.theia:1.0.0</p>
</li>
<li>
<p>https://raw.githubusercontent.com/username/che-custom-plugins/master/plugins/org.name.plugin.theia:0.0.1</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="adding-a-plug-in-at-runtime_publishing-che-theia-plug-ins">Adding a plug-in at runtime</h4>
<div class="paragraph">
<p>This method adds a plug-in into an already running workspace. The plug-in is not added permanently&#8201;&#8212;&#8201;it is removed when the workspace stops. This is a good method to testing a plug-in without affecting the permanent workspace configuration.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Run the <code>Deploy Plugin by Id</code> command, and specify the ID of the plug-in that should be added into the workspace. A plug-in ID can be:</p>
<div class="ulist">
<ul>
<li>
<p>A local directory with plug-ins. All the plug-in binaries (<code>.theia</code> files) in the specified directory would be loaded. Example: <code>local-dir:///home/theia/plugins/</code>.</p>
</li>
<li>
<p>VS Code extension link. To obtain the link, go to VS Code marketplace, find the needed extension, copy its ID, and append the ID to the <code>vscode:extension/</code> prefix.</p>
<div class="paragraph">
<p>For example, for the <a href="https://marketplace.visualstudio.com/items?itemName=redhat.vscode-xml">XML language server</a> plug-in, it is: <code>vscode:extension/redhat.vscode-xml</code>.</p>
</div>
</li>
<li>
<p>Link to plug-in binaries (<code>.theia</code> files). Can be both HTTP and HTTPS. Example: <code><a href="https://domain.net/path/plugin.theia" class="bare">https://domain.net/path/plugin.theia</a></code>.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>To check if plug-in loaded successful, open the <strong>Plugins panel</strong> (go to <strong>View &gt; Plugins</strong> in the main menu) and search for the plug-in in the list.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sharing-your-che-theia-plug-in-with-a-factory_publishing-che-theia-plug-ins">Sharing your Che-Theia plug-in with a factory</h3>
<div class="paragraph">
<p>A Che-Theia factory can be used to share a plug-in in development environment with other people. This section describes how to do it.</p>
</div>
<div class="sect3">
<h4 id="sharing-a-factory-with-a-plug-in-development-environment_publishing-che-theia-plug-ins">Sharing a factory with a plug-in development environment</h4>
<div class="paragraph">
<p>This approach brings an advantage: other people can and contribute to the development&#8201;&#8212;&#8201;provided they have write access to the repository with the plug-in.</p>
</div>
<div class="paragraph">
<p>Create a factory with the plug-in development environment, and share it. Reviewers get exactly the same environment and need to build and run the plug-in to test it (a script or instructions on how to build should be included in the plug-in repository).</p>
</div>
<div class="paragraph">
<p>The reviewer needs to start a hosted plug-in instance and specify the path to the plug-in project inside the workspace. See <a href="#testing-che-theia-plug-ins_extending-che">Testing Che-Theia plug-ins</a> for instructions on how to start a hosted instance of Che-Theia for plug-in testing.</p>
</div>
<div class="paragraph">
<p>To make reviewers' work easier, it is possible to invoke a command to build the plug-in after factory load finishes. For more details, see factory documentation (<a href="link">TODO LINK</a>).</p>
</div>
</div>
<div class="sect3">
<h4 id="sharing-a-factory-with-plug-in-configuration_publishing-che-theia-plug-ins">Sharing a factory with plug-in configuration</h4>
<div class="paragraph">
<p>This method provides a workspace with a ready-to-use plug-in. The author of the plug-in needs to host the plug-in binaries in a custom registry (<a href="link">TODO LINK</a>).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Create a factory.</p>
</li>
<li>
<p>Go to the factory details, and scroll to the <strong>Configuration</strong> section.</p>
</li>
<li>
<p>Add the plug-in into the <code>workspace.attributes.plugins</code> field. The format is the same as described in <a href="#adding-a-che-theia-plug-in-into-a-workspace_publishing-che-theia-plug-ins">Adding a Che-Theia plug-in into a workspace</a>.</p>
<div class="imageblock">
<div class="content">
<a class="image" href="../images/extensibility/sharing-plug-in-with-factory.png"><img src="../images/extensibility/sharing-plug-in-with-factory.png" alt="sharing plug in with factory"></a>
</div>
</div>
</li>
<li>
<p>Share the factory link.</p>
</li>
</ol>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
Accept only factories from trusted sources. Malicious factories could steal data accessible from within your workspace.
</td>
</tr>
</table>
</div>
<div class="ulist">
<div class="title">Additional resources</div>
<ul>
<li>
<p><a href="#adding-a-che-theia-plug-in-into-a-workspace_publishing-che-theia-plug-ins">Adding a Che-Theia plug-in into a workspace</a></p>
</li>
<li>
<p><a href="#testing-che-theia-plug-ins_extending-che">Testing Che-Theia plug-ins</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="overriding-ram-of-a-che-theia-plug-in_publishing-che-theia-plug-ins">Overriding RAM of a Che-Theia plug-in</h3>
<div class="paragraph">
<p>Sometimes, a plug-in consumes more memory than what was allocated for the plug-in by the plug-in author or Che defaults. An example of such case is the use of a language server with a project that has many source files (&amp;8gt;&#160;10&#160;000). RAM consumption in such circumstanes needs to be tuned, otherwise the machine that runs Che workspaces will kill the process with an out of memory error (OOM) error.</p>
</div>
<div class="paragraph">
<div class="title">Procedure</div>
<p>Users can override the RAM limit for a particular plug-in in their workspace configuration.</p>
</div>
<div class="paragraph">
<p>Set the workspace attribute <code>sidecar.&lt;plugin ID&gt;.memory_limit</code> to <code>1000M</code> or <code>10Gi</code>, or any other value formatted as a number and a unit (<code>b, k, ki, m, mi, g, gi</code>). When no unit is specified, the number is in bytes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Using this notation, units that contain the character <code>i</code> denote a number that is a power of 2, such as 1024 (as opposed to numbers that use a power of 10, such as 1000).
</td>
</tr>
</table>
</div>
<div class="exampleblock">
<div class="title">Example 2. Limiting RAM use for a plug-in</div>
<div class="content">
<div class="paragraph">
<p>Example of an attribute that sets the RAM limit for the <a href="https://github.com/eclipse/che-plugin-registry/blob/master/plugins/redhat.vscode-yaml/0.3.0/meta.yaml">YAML language server plug-in</a> to 768 mebibytes (1073741824 bytes):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span style="color:#606"><span style="color:#404">&quot;</span><span>attributes</span><span style="color:#404">&quot;</span></span>: {
   <span style="color:#606"><span style="color:#404">&quot;</span><span>Sidecar.redhat.vscode-yaml.memory_limit</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">768mi</span><span style="color:#710">&quot;</span></span>
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-alternative-ides-in-che_extending-che">Using alternative IDEs in Che</h2>
<div class="sectionbody">
<div class="paragraph">
<p>It is possible to plug different IDEs (integrated developent environments) to Eclipse Che developer workspaces. There are a lot of cases where the default IDE does not cover the use cases of your audience. Or you may want to provide a dedicated custom IDE for your tools. There are also cases where different stakeholders will be using the workspaces and you might want to provide them with different perspectives.</p>
</div>
<div class="paragraph">
<p>Eclipse Che provides a default web IDE to be used with the developer workspaces. This IDE is completely decoupled. You can bring your own custom IDE for Eclipse Che:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Built from Eclipse Theia</strong>, which is a framework to build web IDEs. You can learn more <a href="TODO">TODO LINK</a>.</p>
<div class="ulist">
<ul>
<li>
<p>Example: <a href="https://www.youtube.com/watch?v=B6aCqywKpyY">Sirius on the web</a>.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Completely different web IDEs</strong>, such as Jupyter, Eclipse Dirigible, or others.</p>
<div class="ulist">
<ul>
<li>
<p>Example: <a href="https://www.youtube.com/watch?v=VooNzKxRFgw">Jupyter in Eclipse Che workspaces</a>.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Bringing your custom IDE built from Eclipse Theia</div>
<ul>
<li>
<p>Creating your own custom IDE based on Eclipse Theia here: [TODO LINK]</p>
</li>
<li>
<p>Adding Che-specific tools to your custom IDE: [TODO LINK]</p>
</li>
<li>
<p>Packaging your custom IDE into the available editors for Che: [TODO LINK]</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Bringing your completely different web IDE into Che</div>
<ul>
<li>
<p>Packaging your custom IDE into the available editors for Che: [TODO LINK]</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="che-extensibility-reference_extending-che">Che extensibility reference</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="che-extension-points_che-extensibility-reference">Che extension points</h3>
<div class="paragraph">
<p>In addition to using API methods and events, each plug-in can bring new components into Che-Theia. These components include visual, such as panels, menus, and others. Other types of components are language servers, debuggers, and others.</p>
</div>
<div class="paragraph">
<p>The mechanism for adding additional components into Che-Theia is called extension points. An extension point is a section in a Che-Theia plug-in configuration into which meta-information about a new component is added. This chapter contains the full list of available extension points in Che-Theia.</p>
</div>
<div class="sect3">
<h4 id="syntax-highlighting-grammars_che-extensibility-reference">Syntax-highlighting grammars</h4>
<div class="paragraph">
<p>This section provides syntax highlight rules for specified file types. To add syntax highlighting into Che-Theia using a plug-in, add a record that describes the new grammar into the <code>contributes.grammars</code> array of the plug-in&#8217;s <code>package.json</code> file.</p>
</div>
<div class="listingblock">
<div class="title">Example of a grammar record</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span style="color:#606"><span style="color:#404">&quot;</span><span>grammars</span><span style="color:#404">&quot;</span></span>: [
  {
    <span style="color:#606"><span style="color:#404">&quot;</span><span>language</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">lang</span><span style="color:#710">&quot;</span></span>,                      <i class="conum" data-value="1"></i><b>(1)</b>
    <span style="color:#606"><span style="color:#404">&quot;</span><span>scopeName</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">text.ext</span><span style="color:#710">&quot;</span></span>,                 <i class="conum" data-value="2"></i><b>(2)</b>
    <span style="color:#606"><span style="color:#404">&quot;</span><span>path</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">./path/to/lang.tmLanguage.json</span><span style="color:#710">&quot;</span></span> <i class="conum" data-value="3"></i><b>(3)</b>
  }
]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specifies the language to which this syntax highlighting should be applied.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>TextMate scope name and grammar.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Syntax-highlighting rules.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="https://macromates.com/manual/en/language_grammars">TextMate documentation</a> for more details about syntax-highlighting rules. A full example: <a href="https://github.com/eclipse/che-theia-samples/tree/master/samples/xml-language-server-plugin">xml-language-server-plugin</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="preferences-configuration_che-extensibility-reference">Preferences (configuration)</h4>
<div class="paragraph">
<p>A plug-in can introduce new <strong>preferences</strong>. These are defined in the <code>"configuration"</code> sub-object of the <code>"contribution"</code> object in the <code>package.json</code> file. A preference is contributed as a JSON schema that describes what is actually contributed and allows users to get support when editing settings in the <strong>Preferences Editor</strong>.</p>
</div>
<div class="listingblock">
<div class="title">Example of configuration contribution for a plug-in preference that defines a logging level</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json">{
   <span style="color:#606"><span style="color:#404">&quot;</span><span>contributes</span><span style="color:#404">&quot;</span></span>: {
       <span style="color:#606"><span style="color:#404">&quot;</span><span>configuration</span><span style="color:#404">&quot;</span></span>: {
           <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">object</span><span style="color:#710">&quot;</span></span>,
           <span style="color:#606"><span style="color:#404">&quot;</span><span>title</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">A plug-in configuration</span><span style="color:#710">&quot;</span></span>,
           <span style="color:#606"><span style="color:#404">&quot;</span><span>properties</span><span style="color:#404">&quot;</span></span>: {
               <span style="color:#606"><span style="color:#404">&quot;</span><span>myPlugin.logLevel</span><span style="color:#404">&quot;</span></span>: {
                   <span style="color:#606"><span style="color:#404">&quot;</span><span>type</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">string</span><span style="color:#710">&quot;</span></span>,
                   <span style="color:#606"><span style="color:#404">&quot;</span><span>default</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">error</span><span style="color:#710">&quot;</span></span>,
                   <span style="color:#606"><span style="color:#404">&quot;</span><span>description</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Plug-in logging level</span><span style="color:#710">&quot;</span></span>
               }
           }
       }
   }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are three scopes of preferences defined in Che-Theia:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <strong>default</strong> scope consists of values defined in the <code>"configuration"</code> sub-section in <code>package.json</code>. These are default values of the preferences contributed by the plug-in.</p>
</li>
<li>
<p>The <strong>global</strong> or <strong>application-wide</strong> scope values can be set in <strong>User Preferences</strong>. They override the default ones.</p>
</li>
<li>
<p>The <strong>workspace</strong> scope values, which are applied only when a Che-Theia workspace is opened, override default and global values. They can be set in <strong>Workspace Preferences</strong>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A user can obtain preferences using <code>theia.workspace.getConfiguration(section)</code>. If a <code>section</code> is defined, only that subset of preferences is returned.</p>
</div>
<div class="listingblock">
<div class="title">Example of preferences definition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript"><span style="color:#777">// all preferences contributed by a plug-in</span>
theia.workspace.getConfiguration(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">myPlugin</span><span style="color:#710">'</span></span>); <span style="color:#777">// { &quot;logLevel&quot;: &quot;error&quot; }</span>

<span style="color:#777">// or</span>
theia.workspace.getConfiguration().get(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">myPlugin</span><span style="color:#710">'</span></span>); <span style="color:#777">// { &quot;logLevel&quot;: &quot;error&quot; }</span>

<span style="color:#777">// or, `logLevel` value:</span>
theia.workspace.getConfiguration().get(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">myPlugin</span><span style="color:#710">'</span></span>).get(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">logLevel</span><span style="color:#710">'</span></span>); <span style="color:#777">// &quot;error&quot;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>The plug-in API allows to update preferences as well:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">const pluginPrefs = theia.workspace.getConfiguration(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">myPlugin</span><span style="color:#710">'</span></span>);
pluginPrefs.update(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">logLevel</span><span style="color:#710">'</span></span>, <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">debug</span><span style="color:#710">'</span></span>, theia.ConfigurationTarget.User);</code></pre>
</div>
</div>
<div class="paragraph">
<p>To get all information about a configuration setting, use the <code>inspect</code> method. The <code>inspect</code> method returns an object that consists of <code>default</code>, <code>global</code>, and <code>workspace</code> (if one exists) values of a preference key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">pluginPrefs.inspect(<span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">'</span><span style="color:#D20">logLevel</span><span style="color:#710">'</span></span>);
<span style="color:#777">// {</span>
<span style="color:#777">//     &quot;key&quot;: &quot;myPlugin.logLevel&quot;,</span>
<span style="color:#777">//     &quot;defaultValue&quot;: &quot;error&quot;,</span>
<span style="color:#777">//     &quot;globalValue&quot;: &quot;debug&quot;</span>
<span style="color:#777">// }</span></code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="view-containers_che-extensibility-reference">View containers</h4>
<div class="paragraph">
<p>A <strong>view container</strong> is a container that holds <a href="#views_che-extensibility-reference">views</a>. In Che-Theia, views are usually in the form of panels. All view containers are divided in three sections: <strong>left</strong>, <strong>bottom</strong>, and <strong>right</strong>. The position of a view container depends on the section to which it belongs. This defines the default position of a view container, which can be changed at runtime by dragging and dropping.</p>
</div>
<div class="paragraph">
<p>To add a view container into Che-Theia, add the appropriate record into the <code>viewsContainers</code> object located under the <code>contributes</code> object in the plug-in <code>package.json</code> file:</p>
</div>
<div class="listingblock">
<div class="title">Example of a view-container definition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span style="color:#606"><span style="color:#404">&quot;</span><span>contributes</span><span style="color:#404">&quot;</span></span>: {
   <span style="color:#606"><span style="color:#404">&quot;</span><span>viewsContainers</span><span style="color:#404">&quot;</span></span>: {
     <span style="color:#606"><span style="color:#404">&quot;</span><span>bottom</span><span style="color:#404">&quot;</span></span>: [
       {
         <span style="color:#606"><span style="color:#404">&quot;</span><span>id</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">view-container-id</span><span style="color:#710">&quot;</span></span>,                   <i class="conum" data-value="1"></i><b>(1)</b>
         <span style="color:#606"><span style="color:#404">&quot;</span><span>title</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">The title</span><span style="color:#710">&quot;</span></span>                         <i class="conum" data-value="2"></i><b>(2)</b>
       },
       {
         <span style="color:#606"><span style="color:#404">&quot;</span><span>id</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">another-view-container-id</span><span style="color:#710">&quot;</span></span>,
         <span style="color:#606"><span style="color:#404">&quot;</span><span>title</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Some title</span><span style="color:#710">&quot;</span></span>
       }
     ],
     <span style="color:#606"><span style="color:#404">&quot;</span><span>right</span><span style="color:#404">&quot;</span></span>: [
       {
         <span style="color:#606"><span style="color:#404">&quot;</span><span>id</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">view-container-on-the-right-side-id</span><span style="color:#710">&quot;</span></span>,
         <span style="color:#606"><span style="color:#404">&quot;</span><span>title</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Panel on the right</span><span style="color:#710">&quot;</span></span>
       }
     ]
   }
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The identifier of the view container. Used to attach to this view container.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Text displayed on the panel tab.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that a view container is only useful with views in it. See a full example at <a href="https://github.com/eclipse/che-theia-samples/tree/master/samples/tree-view-sample-plugin">tree-view-sample-plugin</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="views_che-extensibility-reference">Views</h4>
<div class="paragraph">
<p>A <strong>view</strong> is a visual component that should be placed into a <a href="#view-containers_che-extensibility-reference">view container</a>.</p>
</div>
<div class="paragraph">
<p>To add a view into Che-Theia, add an appropriate record into the <code>contributes.views</code> object of a plug-in <code>package.json</code> file. Each view is defined by an object with two name:value pairs. Each view description should be included in an array within the <code>views</code> object, and the array name should be the same as the <code>view-container-id</code> value:</p>
</div>
<div class="listingblock">
<div class="title">Example of a view definition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span style="color:#606"><span style="color:#404">&quot;</span><span>viewsContainers</span><span style="color:#404">&quot;</span></span>: {
    <span style="color:#606"><span style="color:#404">&quot;</span><span>left</span><span style="color:#404">&quot;</span></span>: [
        {
          <span style="color:#606"><span style="color:#404">&quot;</span><span>id</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">view-container-id</span><span style="color:#710">&quot;</span></span>,    <i class="conum" data-value="1"></i><b>(1)</b>
          <span style="color:#606"><span style="color:#404">&quot;</span><span>title</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">The title</span><span style="color:#710">&quot;</span></span>          <i class="conum" data-value="2"></i><b>(2)</b>
        }
    ],
},
<span style="color:#606"><span style="color:#404">&quot;</span><span>views</span><span style="color:#404">&quot;</span></span>: {
    <span style="color:#606"><span style="color:#404">&quot;</span><span>view-container-id</span><span style="color:#404">&quot;</span></span>: [
        {
          <span style="color:#606"><span style="color:#404">&quot;</span><span>id</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">tree-at-left-side</span><span style="color:#710">&quot;</span></span>,
          <span style="color:#606"><span style="color:#404">&quot;</span><span>name</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">A list</span><span style="color:#710">&quot;</span></span>
        },
        {
          <span style="color:#606"><span style="color:#404">&quot;</span><span>id</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">widget-at-left-side</span><span style="color:#710">&quot;</span></span>,
          <span style="color:#606"><span style="color:#404">&quot;</span><span>name</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">A widget</span><span style="color:#710">&quot;</span></span>
        }
    ]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>view identifier</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>name of the view, which will be displayed as the widget title inside the view container</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Currently, only tree view is supported as a view widget.</p>
</div>
<div class="paragraph">
<p>For more details, see a full example at <a href="https://github.com/eclipse/che-theia-samples/tree/master/samples/tree-view-sample-plugin">tree-view-sample-plugin</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="menus_che-extensibility-reference">Menus</h4>
<div class="paragraph">
<p>Plug-ins can add new <strong>menu items</strong> into Che-Theia through the <code>contributes.menus</code> object in a plug-in <code>package.json</code> file. The <code>menus</code> object consists of menu names and menu items:</p>
</div>
<div class="listingblock">
<div class="title">Example of a menu definition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span style="color:#606"><span style="color:#404">&quot;</span><span>menus</span><span style="color:#404">&quot;</span></span>: {
    <span style="color:#606"><span style="color:#404">&quot;</span><span>editor/context</span><span style="color:#404">&quot;</span></span>: [
        {
            <span style="color:#606"><span style="color:#404">&quot;</span><span>command</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">my.command.id</span><span style="color:#710">&quot;</span></span>,                                        <i class="conum" data-value="1"></i><b>(1)</b>
            <span style="color:#606"><span style="color:#404">&quot;</span><span>group</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">custom.group</span><span style="color:#710">&quot;</span></span>,                                           <i class="conum" data-value="2"></i><b>(2)</b>
            <span style="color:#606"><span style="color:#404">&quot;</span><span>when</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">view == widget-at-left-side &amp;&amp; config.namespace.property</span><span style="color:#710">&quot;</span></span> <i class="conum" data-value="3"></i><b>(3)</b>
        },
        {
            <span style="color:#606"><span style="color:#404">&quot;</span><span>command</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">core.about</span><span style="color:#710">&quot;</span></span>
        }
    ],
    <span style="color:#606"><span style="color:#404">&quot;</span><span>explorer/context</span><span style="color:#404">&quot;</span></span>: [
        {
            <span style="color:#606"><span style="color:#404">&quot;</span><span>command</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">other.command.id</span><span style="color:#710">&quot;</span></span>,
            <span style="color:#606"><span style="color:#404">&quot;</span><span>group</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">some.group</span><span style="color:#710">&quot;</span></span>
        }
    ]
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The identifier of the Che-Theia command that is executed when the menu item is used. The handler receives the selected resource as the first argument.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>(optional) The name of the group in the menu to which the command is added. When omitted, the menu item is added to the common group in the specified menu.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>(optional) The condition that defines when this menu item is visible. When omitted, the menu item is always visible. The conditions are the same as in the <a href="https://code.visualstudio.com/docs/getstarted/keybindings#_when-clause-contexts">VS Code when clause</a>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Menus that support extending:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>explorer/context</code></p>
</li>
<li>
<p><code>editor/context</code></p>
</li>
<li>
<p><code>editor/title</code></p>
</li>
<li>
<p><code>debug/callstack/context</code></p>
</li>
<li>
<p><code>view/item/context</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A plug-in example that adds menu items: <a href="https://github.com/eclipse/che-theia-samples/tree/master/samples/menus-contribution-plugin">menus-contribution-plugin</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="key-bindings_che-extensibility-reference">Key bindings</h4>
<div class="paragraph">
<p>Plug-ins can add new <strong>keyboard shortcuts</strong> or redefine existing ones. To describe a new shortcut, add a definition in the <code>contributes.keybindings</code> object of a plug-in <code>package.json</code> file. Each key bonding is described by three values:</p>
</div>
<div class="listingblock">
<div class="title">Example of a keyboard-shortcut definition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span style="color:#606"><span style="color:#404">&quot;</span><span>keybindings</span><span style="color:#404">&quot;</span></span>: [
     {
         <span style="color:#606"><span style="color:#404">&quot;</span><span>key</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ctrl+b</span><span style="color:#710">&quot;</span></span>,                 <i class="conum" data-value="1"></i><b>(1)</b>
         <span style="color:#606"><span style="color:#404">&quot;</span><span>command</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ts.compile</span><span style="color:#710">&quot;</span></span>,         <i class="conum" data-value="2"></i><b>(2)</b>
         <span style="color:#606"><span style="color:#404">&quot;</span><span>when</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">resourceExtname == .ts</span><span style="color:#710">&quot;</span></span> <i class="conum" data-value="3"></i><b>(3)</b>
     },
     {
         <span style="color:#606"><span style="color:#404">&quot;</span><span>key</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">ctrl+f alt+b</span><span style="color:#710">&quot;</span></span>,
         <span style="color:#606"><span style="color:#404">&quot;</span><span>command</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">some.command</span><span style="color:#710">&quot;</span></span>
     }
]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Defines the key combination for this shortcut. <a href="https://code.visualstudio.com/docs/getstarted/keybindings#_keyboard-rules">Rules for defining key combinations</a> are the same as for VS Code.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The identifier of the command, which should be invoked when the shortcut is pressed.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>(optional) The condition that defines when this shortcut is available. When omitted, the shortcut is always available. The condition format is the same as in the <a href="https://code.visualstudio.com/docs/getstarted/keybindings#_when-clause-contexts">VS Code when clause</a>.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Note that <code>ctrl+f alt+b</code> defines a <em>chord</em>: the command is invoked after pressing both combinations one after the other.</p>
</div>
</div>
<div class="sect3">
<h4 id="debuggers_che-extensibility-reference">Debuggers</h4>
<div class="paragraph">
<p>Plug-ins can add new <strong>debuggers</strong>. To do so, you need to implement the <a href="https://microsoft.github.io/debug-adapter-protocol/">Debagger Adapter Protocol</a> (DAP) for a specific debugger. The debugger then can registered in the <code>contributes.debuggers</code> debuggers of a plug-in <code>package.json</code> file.</p>
</div>
<div class="paragraph">
<p>For instruction on how to add a debugger, see <a href="link">TODO LINK</a>.</p>
</div>
<div class="paragraph">
<p>See the <a href="https://microsoft.github.io/debug-adapter-protocol/implementors/adapters/">list of debuggers</a> from the official DAP site for reference and examples.</p>
</div>
</div>
<div class="sect3">
<h4 id="languages-language-servers_che-extensibility-reference">Languages (language servers)</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This is an experimental approach, which may change in the future.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To add a language server into Che-Theia using a plug-in:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Describe the server in the <code>contributes.languages</code> array in the plug-in&#8217;s <code>package.json</code> file:</p>
<div class="listingblock">
<div class="title">Example of a language-server definition</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="json"><span style="color:#606"><span style="color:#404">&quot;</span><span>languages</span><span style="color:#404">&quot;</span></span>: [
    {
      <span style="color:#606"><span style="color:#404">&quot;</span><span>id</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">lang</span><span style="color:#710">&quot;</span></span>,                                    <i class="conum" data-value="1"></i><b>(1)</b>
      <span style="color:#606"><span style="color:#404">&quot;</span><span>aliases</span><span style="color:#404">&quot;</span></span>: [                                     <i class="conum" data-value="2"></i><b>(2)</b>
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">Lang</span><span style="color:#710">&quot;</span></span>,
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">LANG</span><span style="color:#710">&quot;</span></span>
      ],
      <span style="color:#606"><span style="color:#404">&quot;</span><span>extensions</span><span style="color:#404">&quot;</span></span>: [                                  <i class="conum" data-value="3"></i><b>(3)</b>
        <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">.ext</span><span style="color:#710">&quot;</span></span>
      ],
      <span style="color:#606"><span style="color:#404">&quot;</span><span>firstLine</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">^#!/.*interpreter</span><span style="color:#710">&quot;</span></span>,                <i class="conum" data-value="4"></i><b>(4)</b>
      <span style="color:#606"><span style="color:#404">&quot;</span><span>configuration</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">./language-configuration.json</span><span style="color:#710">&quot;</span></span> <i class="conum" data-value="5"></i><b>(5)</b>
    }
]</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The ID of the language for which the language server is created.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Other names for the language.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>File-name extensions for which this language server is added.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Hashbang (first line) for which this language server is added.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Path to a JSON file with the language configuration (TODO: our section or just link to <a href="https://code.visualstudio.com/api/language-extensions/language-configuration-guide">VS Code docs</a>?).</td>
</tr>
</table>
</div>
</li>
<li>
<p>Register the language server using the following API call:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="typescript">theia.languageServer.registerLanguageServerProvider(xLanguageServerInfo);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Where <code>xLanguageServerInfo</code> is an object of <code>theia.LanguageServerInfo</code> and has to contain the following fields:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>id</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">language ID; should be the same as <code>id</code> in the configuration JSON file</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">human-readable name of the language server</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>globPatterns</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">file pattern that specifies files for which this language server is added</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>command</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">the language server start executable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>args</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">arguments for the language server start executable</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>After the command above is invoked, the language server should start.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>See a full example at <a href="https://github.com/eclipse/che-theia-samples/tree/master/samples/xml-language-server-plugin">xml-language-server-plugin</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="web-view-api_che-extensibility-reference">Web view API</h4>
<div class="paragraph">
<p>A <strong>web view API</strong> is not a contribution point by definition, but it behaves like one and allows to bring a many new features to Che-Theia. Web view API plug-ins can add custom UI, graphical data, or anything what can be displayed in a web page. A web view API provides an HTML <code>iframe</code> to which a plug-in has access.</p>
</div>
<div class="paragraph">
<p>To create an instance of web view:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>use the <code>createWebviewPanel</code> function:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="typescript">const webViewPanel = theia.window.createWebviewPanel('webViewId', 'Title',  theia.ViewColumn.One);</code></pre>
</div>
</div>
</li>
<li>
<p>Add content:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="typescript">webViewPanel.webview.html ='&lt;html&gt;&lt;body&gt;&lt;h1&gt;Hello from web view&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;';</code></pre>
</div>
</div>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Web view content is destroyed when hidden. To restore state, register a serializer, or set the <code>retainContextWhenHidden</code> option for the web view. Even with this option set, hiding a web view pauses all scripts, and the web view will not be process messages from the plug-in.</p>
</div>
<div class="paragraph">
<p>The current state of a web view can be read from the web view panel object.</p>
</div>
<div class="paragraph">
<p>It is possible to load resources and scripts into a web view and communicate with a plug-in by posting messages. See a full sample plug-in at <a href="https://github.com/eclipse/che-theia-samples/tree/master/samples/webview-sample-plugin">webview-sample-plugin</a> for more details.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="che-theia-plug-in-api_che-extensibility-reference">Che-Theia plug-in API</h3>
<div class="paragraph">
<p>The Che-Theia plug-in API consists of two namespaces:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">namespace</th>
<th class="tableblock halign-left valign-top">description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>theia</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">provides a Che-Theia IDE-related API that allows to interact with its different components</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>che</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">provides a plug-in API to access parts of the Che API</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="theia-namespace_che-extensibility-reference"><code>theia</code> namespace</h4>
<div class="paragraph">
<p>Available resources of the <code>theia</code> namespace are described in the <a href="https://github.com/theia-ide/theia/blob/master/packages/plugin/src/theia.d.ts"><code>theia.d.ts</code></a> file in the <a href="https://github.com/theia-ide/theia">Theia repository</a>. The root of the namespace contains types declaration and the following API sections:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">commands</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API for adding new and executing existing Theia commands</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">debug</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API for debugger configuration and debugger events</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">env</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API for accessing environment variables and query parameters of the Theia IDE</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">languages</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API and events related to language support; typically is used by language servers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">languageServer (experimental)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API for language-server integration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">plugins</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API for retrieving information about loaded plug-ins</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">tasks</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API for providing custom task runners</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">window</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API to control visual components of the IDE. It allows to manipulate with editor tabs, terminals, status bar, etc. The section contains events for changing the state of select components and the whole IDE. Dialog popups.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">workspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API related to the Theia workspace with information about the current workspace state, documents in it, files-related operations including watching, finding, etc. The section contains state-change events.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="che-namespace_che-extensibility-reference"><code>che</code> namespace</h4>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Many APIs in the namespace are experimental and can change in the future.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Available resources of the <code>che</code> namespace are described in the <a href="https://github.com/eclipse/che-theia/blob/master/extensions/eclipse-che-theia-plugin/src/che.d.ts"><code>che.d.ts</code></a> file in the <a href="https://github.com/eclipse/che-theia">Che-Theia repository</a>.</p>
</div>
<div class="paragraph">
<p>This namespace contains APIs and types related to Che. Some sections are just a bridge to Che API. List of sections:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">factory</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allows to work with the Che factory API; provides functionality to retrieve specified factory configuration</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">task</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allows to add Che-aware commands (Che-specific attributes, such as workspace ID or container name, are accessible from within task implementation)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">variables</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allows to add a variable resolver</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">workspace</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">allows to work with the Che workspace API; provides functionality to access workspaces, their lifecycle, and user settings.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="using-the-che-namespace-in-plug-ins_che-extensibility-reference">Using the <code>che</code> namespace in plug-ins</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Backend plug-in</dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Add the <code>@eclipse-che/plugin</code> dependency to a plug-in <code>package.json</code> file.</p>
</li>
<li>
<p>Import and use the namespace. For example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="typescript">import * as che from '@eclipse-che/plugin';

const wsConfig = che.workspace.getById(workspaceId);</code></pre>
</div>
</div>
</li>
</ol>
</div>
</dd>
<dt class="hdlist1">Frontend plug-in</dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Perform the same steps as for a backend plug-in.</p>
</li>
<li>
<p>Modify the <code>externals</code> section in <code>webpack.config.js</code> by adding the <code>@eclipse-che/plugin</code> key with the following value: <code>che.&lt;your_plugin_id&gt;</code> (copy the <code>@theia/plugin</code> value, and substitute <code>theia.</code> for <code>che.</code>). For example:</p>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="javascript">externals: {
   <span style="color:#606"><span style="color:#404">&quot;</span><span>@theia/plugin</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">theia.theia_test_api</span><span style="color:#710">&quot;</span></span>,
   <span style="color:#606"><span style="color:#404">&quot;</span><span>@eclipse-che/plugin</span><span style="color:#404">&quot;</span></span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">&quot;</span><span style="color:#D20">che.theia_test_api</span><span style="color:#710">&quot;</span></span>
 }</code></pre>
</div>
</div>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is possible to add new a API namespace for plug-ins using a separate extension.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>

    <div class="tags">
        
        <b>Tags: </b>
        
        
        
    </div>

<!-- 
 -->

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
                    Eclipse Che - Documentation <br/>
                    Site last generated: Jun 19, 2019 <br/>
                    <hr>
                    <a href="http://www.eclipse.org" target="_blank">Eclipse Foundation</a><br/>
                    <a href="http://www.eclipse.org/legal/privacy.php" target="_blank">Privacy Policy</a><br/>
                    <a href="http://www.eclipse.org/legal/termsofuse.php" target="_blank">Terms of Use</a><br/>
                    <a href="https://www.eclipse.org/legal/epl-2.0/" target="_blank">Eclipse Public License</a><br/>
                    <a href="http://www.eclipse.org/legal" target="_blank">Legal Resources</a><br/>
                </div>
            </div>
</footer>




    <!-- /.row -->
</div>
<!-- /.container -->
</div>
<!-- /#main -->
    </div>

</body>

</html>
